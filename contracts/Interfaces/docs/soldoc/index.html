<html>

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <!-- highlight.js -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/styles/github.min.css" rel="stylesheet">

    <!-- twemoji-awesome -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/twemoji-awesome-clone@1.0.0/twemoji-awesome.css">
    <link
        href="data:image/x-icon;base64,AAABAAEAEBAQAAEABAAoAQAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAJ6TrAFy+8QCC0vgA7+/vAC6n7ACE0/gAS2RuAKbU5QDAwMAAv+3+ACek6gApoeYAAAAAAAAAAAAAAAAARERERERERABEREREREREAEREREREREQAREREeIRERABJmZSohUREAERERKolVEQAREREozUVRABJmZRDNlFUAEREREQzZRUAREREREM2W1BJmZmZRDNlxUREREREQzZVREREREREMzVJmZmZmURDM0REREREREQzRERERERERAMAAwAAAAMAAAADAAAAAwAAAAMAAAADAAAAAwAAAAMAAAADAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAA"
        rel="icon" type="image/x-icon" />
    <style>
        aside {
            width: 200px;
            float: left;
        }

        aside#methods {
            float: right;
        }

        .content table td {
            border: 0px;
        }

        tr {
            line-height: 3em;
        }

        nav.navbar {
            height: 80px;
            padding: 0px 35px;
        }

        div.container {
            float: left;
            width: 60%;
        }

        strong.method {
            font-size: 2em;
            padding-right: 10px;
        }

        a strong {
            color: black;
        }

        small.generated {
            font-size: .65em;
            font-style: italic;
        }

        .page-content {
            max-width: 1300px;
            margin: auto;
            padding: 0px 4%;
        }

        .soldoc-box {
            margin-bottom: 50px;
        }

        .box-info {
            color: #858585;
        }

        .method-name-title {
            padding: .75rem 1.25rem;
            margin-bottom: 0;
            border-bottom: 1px solid rgba(0, 0, 0, .125);
        }

        /*readme*/
        .README li {
            padding: 5px 40px;
        }

        .README h1,
        .README h2,
        .README h3,
        .README h4 {
            margin-block-start: 0.83em;
            margin-block-end: 0.83em;
            margin-inline-start: 0px;
            margin-inline-end: 0px;
        }

        .box {
            border-radius: 2px;
        }

        /* A huge thanks to Alex Raven by A Directory Tree List Style in https://codepen.io/asraven/pen/qbrQMX*/

        .directory-list {
            margin-block-start: 0px;
            margin-inline-start: 0px;
            padding-inline-start: 0px;
        }

        .directory-list ul {
            border-left: 1px dashed #ddd;
            padding-inline-start: 10px;
        }

        .directory-list li {
            list-style: none;
            color: #888;
            font-size: 17px;
            font-style: italic;
            font-weight: normal;
        }

        .directory-list a {
            border-bottom: 1px solid transparent;
            color: #888;
            text-decoration: none;
            transition: all 0.2s ease;
        }

        .directory-list a:hover {
            border-color: #eee;
            color: #000;
        }

        .directory-list .folder,
        .directory-list .folder>a {
            color: #777;
            font-weight: bold;
        }

        .side-list li {
            padding: 6px 0px;
            border: 0px;
        }

        .side-list a {
            color: #777777;
        }

        .side-list a:hover {
            text-decoration: none;
        }

        /* The icons */

        .directory-list li:before {
            margin-right: 10px;
            content: "";
            height: 20px;
            vertical-align: middle;
            width: 20px;
            background-repeat: no-repeat;
            display: inline-block;
            /* file icon by default */
            background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><path fill='lightgrey' d='M85.714,42.857V87.5c0,1.487-0.521,2.752-1.562,3.794c-1.042,1.041-2.308,1.562-3.795,1.562H19.643 c-1.488,0-2.753-0.521-3.794-1.562c-1.042-1.042-1.562-2.307-1.562-3.794v-75c0-1.487,0.521-2.752,1.562-3.794 c1.041-1.041,2.306-1.562,3.794-1.562H50V37.5c0,1.488,0.521,2.753,1.562,3.795s2.307,1.562,3.795,1.562H85.714z M85.546,35.714 H57.143V7.311c3.05,0.558,5.505,1.767,7.366,3.627l17.41,17.411C83.78,30.209,84.989,32.665,85.546,35.714z' /></svg>");
            background-position: center 2px;
            background-size: 60% auto;
        }

        .directory-list li.folder:before {
            /* folder icon if folder class is specified */
            background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><path fill='lightblue' d='M96.429,37.5v39.286c0,3.423-1.228,6.361-3.684,8.817c-2.455,2.455-5.395,3.683-8.816,3.683H16.071 c-3.423,0-6.362-1.228-8.817-3.683c-2.456-2.456-3.683-5.395-3.683-8.817V23.214c0-3.422,1.228-6.362,3.683-8.817 c2.455-2.456,5.394-3.683,8.817-3.683h17.857c3.422,0,6.362,1.228,8.817,3.683c2.455,2.455,3.683,5.395,3.683,8.817V25h37.5 c3.422,0,6.361,1.228,8.816,3.683C95.201,31.138,96.429,34.078,96.429,37.5z' /></svg>");
            background-position: center top;
            background-size: 75% auto;
        }
    </style>
    <title>soldoc</title>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div style="width: 90%; max-width: 1300px; margin: auto;">
            <a class="navbar-brand" href="#">Navbar</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div style="float: right;" class="collapse navbar-collapse" id="navbarSupportedContent">
                <form class="form-inline my-2 my-lg-0">
                    <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                    <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
                </form>
            </div>
        </div>
    </nav>
    <br /><br /><br />
    <div class="page-content">
        <aside id="contracts">
            <ul class="list-group side-list">
                <li class="list-group-item"><a href="index.html">HOME</a></li>
            </ul>
            <div class="box">
                <ul id="contracts-treeview" class="directory-list"></ul>
            </div>
        </aside>

        <div class="container">
            <div class="README">
                <h1>SecTokMaster - Security Token Master (ERC20 [partial] Compatible Commodity or Cashflow Token)</h1>
<h2>Setup</h2>
<ul>
<li><code>npm install</code></li>
<li><code>npm i truffle -g</code></li>
<li><code>npm i ganache-cli -g</code></li>
</ul>
<h2>Run local node</h2>
<ul>
<li><code>ganache-cli --accounts 1024 --networkId 888 --mnemonic &quot;educate school blast ability display bleak club soon curve car oil ostrich&quot; --gasLimit 7800000</code></li>
</ul>
<blockquote>
<p>runs with a large number of accounts (the tests require more than 10 built into <code>truffle develop</code>)
runs with custom network ID 888
runs with gas limit ~= reported default geth Ropsten-connected node gas limit
runs with InstaMining by default
OR (better, for individual dev account separation by networkId): from repo root: <code>yarn ganache</code> after change NETWORK_ID=xxx in .env files.</p>
</blockquote>
<h2>Dual Mode</h2>
<p>Operates as a semi-fungible (multi-minting batch, multi-type) COMMODITY token, or as a fungible (single-minting batch, single-type) CASHFLOW token.
Set environment variable to:</p>
<blockquote>
<p><code>export CONTRACT_TYPE=COMMODITY</code> or
<code>export CONTRACT_TYPE=CASHFLOW</code>
Migration script will pickup this env var and deploy a test contract accordingly.</p>
</blockquote>
<h2>Migrate (Deploy) Contracts</h2>
<ul>
<li><code>truffle migrate --network development --reset</code> (ganache-cli local node)</li>
<li><code>truffle migrate --network ropsten_ac --reset</code> (AirCarbon’s ropsten geth node)</li>
<li><code>truffle migrate --network rinkeby_infura --reset</code> (infura rinkeby faster than infura ropsten?)</li>
</ul>
<h2>Run Tests</h2>
<ul>
<li><code>truffle compile</code> or (undocumented) <code>truffle compile --reset</code> if it keeps recompiling when there aren’t any changes in the Solidity</li>
<li><code>truffle test --network development</code></li>
</ul>
<h2>Docs</h2>
<ul>
<li><code>npx soldoc --output html ./contracts/interfaces/docs/soldoc ./contracts/Interfaces</code></li>
<li><code>npx solidity-docgen -i ./contracts/interfaces -o ./contracts/interfaces/docs/solidity-docgen --contract-pages</code></li>
</ul>
<h2>Dbg - misc</h2>
<p>If you see <code>Error: invalid reporter &quot;eth-gas-reporter&quot;</code> – try running <code>npm i</code> in ./packages/erc20</p>
<h2>Dbg - <code>truffle develop</code></h2>
<ul>
<li><code>truffle develop</code>
<blockquote>
<p>note: tests will fail with <code>develop</code>'s built-in ganache instance (not enough test accounts)</p>
</blockquote>
</li>
<li><code>migrate</code></li>
<li><code>AcMaster.deployed().then((i) =&gt; { ac=i })</code></li>
<li><code>AcMaster.MintedSecTokenBatch({}).watch((err,res) =&gt; { console.log(`MintedSecTokenBatch... id = ${res.args.id}`) })</code></li>
<li><code>ac.methods</code></li>
<li><code>ac.mintSecTokenBatch(1, 1000, 1, '0xc3241d546dDE0Bf0A42BE0b3fEe70Da17ad724c9', { ccy_mirrorFee: false, ccy_perThousand: 0, fee_fixed: 1, fee_percBips: 10, fee_min: 0, fee_max: 0 }, [], [])</code></li>
<li><code>ac.getLedgerEntry('0xc3241d546dDE0Bf0A42BE0b3fEe70Da17ad724c9')</code></li>
<li><code>ac.getSecToken(1)</code></li>
</ul>

            </div>
        </div>
    </div>
    <script>
        var cDirectory = (c) => ('<li class="folder">' + c.name + '<ul>' + renderTreeView(c.children) + '</ul></li>');
        var cFile = (c) => ('<li><a href="' + c.name.replace('.sol', '') + '.html">' + c.name.replace('.sol', '') + '</a></li>');
        function renderTreeView(inputContent) {
            return inputContent.map((content) => content.type === 'directory' ? cDirectory(content) : cFile(content)).join('');
        }
        function loadDirectoryTreeView() {
            var paths = [{"path":"./contracts/Interfaces","name":"Interfaces","children":[{"path":"contracts/Interfaces/.DS_Store","name":".DS_Store","size":8196,"extension":"","type":"file"},{"path":"contracts/Interfaces/ICcyCollateralizable.sol","name":"ICcyCollateralizable.sol","size":2568,"extension":".sol","type":"file"},{"path":"contracts/Interfaces/IChainlinkAggregator.sol","name":"IChainlinkAggregator.sol","size":672,"extension":".sol","type":"file"},{"path":"contracts/Interfaces/IDataLoadable.sol","name":"IDataLoadable.sol","size":1425,"extension":".sol","type":"file"},{"path":"contracts/Interfaces/IErc20.sol","name":"IErc20.sol","size":1885,"extension":".sol","type":"file"},{"path":"contracts/Interfaces/IOwned.sol","name":"IOwned.sol","size":739,"extension":".sol","type":"file"},{"path":"contracts/Interfaces/IPublicViews.sol","name":"IPublicViews.sol","size":4445,"extension":".sol","type":"file"},{"path":"contracts/Interfaces/IStBurnable.sol","name":"IStBurnable.sol","size":978,"extension":".sol","type":"file"},{"path":"contracts/Interfaces/IStFees.sol","name":"IStFees.sol","size":3013,"extension":".sol","type":"file"},{"path":"contracts/Interfaces/IStLedger.sol","name":"IStLedger.sol","size":2064,"extension":".sol","type":"file"},{"path":"contracts/Interfaces/IStMaster.sol","name":"IStMaster.sol","size":3919,"extension":".sol","type":"file"},{"path":"contracts/Interfaces/IStMintable.sol","name":"IStMintable.sol","size":2628,"extension":".sol","type":"file"},{"path":"contracts/Interfaces/IStPayable.sol","name":"IStPayable.sol","size":1818,"extension":".sol","type":"file"},{"path":"contracts/Interfaces/IStTransferable.sol","name":"IStTransferable.sol","size":2313,"extension":".sol","type":"file"},{"path":"contracts/Interfaces/StMasterMock.sol.MOCK","name":"StMasterMock.sol.MOCK","size":1550,"extension":".mock","type":"file"},{"path":"contracts/Interfaces/StructLib.sol","name":"StructLib.sol","size":10628,"extension":".sol","type":"file"},{"path":"contracts/Interfaces/docs","name":"docs","children":[{"path":"contracts/Interfaces/docs/.DS_Store","name":".DS_Store","size":8196,"extension":"","type":"file"},{"path":"contracts/Interfaces/docs/CFT.md","name":"CFT.md","size":3592,"extension":".md","type":"file"},{"path":"contracts/Interfaces/docs/HYDRAX-INTEGRATION__0.12.md","name":"HYDRAX-INTEGRATION__0.12.md","size":6592,"extension":".md","type":"file"},{"path":"contracts/Interfaces/docs/OVERVIEW.md","name":"OVERVIEW.md","size":2937,"extension":".md","type":"file"},{"path":"contracts/Interfaces/docs/soldoc","name":"soldoc","children":[],"size":0,"type":"directory"}],"size":21317,"type":"directory"}],"size":70158,"type":"directory"}];
        document.getElementById("contracts-treeview").innerHTML = renderTreeView(paths);
        }
        loadDirectoryTreeView();
    </script>
</body>

</html>
